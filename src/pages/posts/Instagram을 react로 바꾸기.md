---
title: Instagramì„ reactë¡œ ë°”ê¾¸ê¸°
date: '2020ë…„ 02ì›” 17ì¼'
tags:
  - react
categories:
  - react
---

ì§€ë‚œë²ˆì— í–ˆë˜ ì¸ìŠ¤íƒ€ê·¸ë¨ í´ë¡  ì½”ë”©ì„ ë¦¬ì•¡íŠ¸ë¡œ ë°”ê¾¸ëŠ” ì‘ì—…ì„ í–ˆë‹¤.
ìƒí™œì½”ë”© ë¦¬ì•¡íŠ¸ ë¶€ë¶„ì„ ë³´ê³  ë”°ë¼í–ˆì§€ë§Œ ì•„ì§ê¹Œì§€ _props state_ ë“±ì˜ ê°œë… ì •ë¦¬ê°€ ë˜ì–´ìˆì§€ì•Šì€ ìƒíƒœì—ì„œ ì§„í–‰í–ˆë‹¤.
ë¨¼ì € í•´ì•¼í•  ê²ƒë“¤ì€!

```
1. create-react-app ë‹¤ìš´
2. íŒŒì¼ ë‚˜ëˆ„ê¸°
3. ë¡œê·¸ì¸í˜ì´ì§€ ì‘ì„± ë° ë¡œê·¸ì¸ ì´ë²¤íŠ¸ ì¶”ê°€
4. ë©”ì¸í˜ì´ì§€ ì‘ì„± ë° ëŒ“ê¸€ ì´ë²¤íŠ¸ ì¶”ê°€

```

</br>

ì¸ìŠ¤íƒ€ê·¸ë¨ í´ë¡ ì½”ë”©ê³¼ ë‹¤ë¥¸ì ì€ **ë¦¬ì•¡íŠ¸ ë¼ìš°í„°**ë¥¼ ì‚¬ìš©í•´ ë¡œê·¸ì¸í˜ì´ì§€ì™€ ë©”ì¸í˜ì´ì§€ê°€ ì—°ë™ëœë‹¤ëŠ” ì ! ê·¸ë¦¬ê³  ë¡œê·¸ì¸í•  ë•Œ, ì¡°ê±´ì„ ë„£ì–´ì„œ ë‚´ê°€ ì§€ì •í•´ë†“ì€ idì™€ pwì¸ ê²½ìš°ì—ë§Œ í˜ì´ì§€ê°€ ì—°ë™ë˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.

![](https://images.velog.io/images/ppl8709/post/4d87c030-a836-481a-9b7c-3c6ba3e1027e/image.png)

ë¦¬ì•¡íŠ¸ì—ì„œ íŒŒì¼êµ¬ì¡°ëŠ” ì „ì²´ í˜ì´ì§€ê°€ ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ìˆëŠ”ì§€ í•œëˆˆì— ì•Œ ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ì ¸ìˆì–´ì•¼ í•œë‹¤. ê·¸ë˜ì„œ srcí´ë” ì•ˆì— pageì™€ component ê°ê°ì˜ í´ë”ë¥¼ ë§Œë“¤ê³  pageì—ëŠ” ê°€ì¥ í° í˜ì´ì§€ì˜ íŒŒì¼ë“¤ ex) Login.js, Main.js ë“±ì„ css íŒŒì¼ê³¼ í•¨ê»˜ ë„£ëŠ”ë‹¤. componentí´ë”ì—ëŠ” í° í˜ì´ì§€ì—ì„œ ë‚˜ì˜¤ëŠ” componentë“¤ì„ ë„£ì–´ì„œ í˜ì´ì§€ êµ¬ì¡°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

---

**ğŸ“ ë°°ìš´ ë‚´ìš©**

- ì´ë¯¸ì§€ ì¶”ê°€
  url í˜•ì‹ì˜ ì´ë¯¸ì§€ íŒŒì¼ì€ srcë¥¼ ì´ìš©í•´ ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤. í•˜ì§€ë§Œ í´ë”ì— ì €ì¥ë˜ì–´ìˆëŠ” ì´ë¯¸ì§€ë¥¼ ë„£ì„ ê²½ìš°ì—ëŠ” componentë¥¼ importí•´ì£¼ëŠ” ê²ƒ ì²˜ëŸ¼ ì´ë¯¸ì§€ì˜ ê²½ë¡œë¥¼ importí•˜ê³  **src={name}** ì„ í•´ì„œ ì¶”ê°€í•œë‹¤.

```js
import heart from './image/heart.png';
import talk from './image/talk.png';
```

- react-router
  create-react-appíŒŒì¼ì—ëŠ” ë¼ìš°íŒ…ì„ ìœ„í•œ ë¡œì§ì´ ì—†ê¸°ë•Œë¬¸ì— react-routerë¥¼ ì¶”ê°€í•´ì„œ í˜ì´ì§€ë¥¼ ì—°ë™ì‹œì¼°ë‹¤.

1. `npm install react-router-dom --save` ì„¤ì¹˜
2. index.jsì—ì„œ App.js ëŒ€ì‹ 
   `ReactDOM.render(<Routes />, document.getElementById("root"));`ë¡œ ë³€ê²½
3. App.jsíŒŒì¼ì—ì„œ routes ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
   ë‚˜ëŠ” íŒŒì¼ëª…ë„ App.js -> Routes.jsë¡œ ë°”ê¿¨ë‹¤!

```js
import React from 'react';
import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';
import Login from './pages/Login';
import Main from './pages/Main';

class Routes extends React.Component {
  render() {
    return (
      <Router>
        <Switch>
          <Route exact path="/" component={Login} />
          <Route exact path="/main" component={Main} />
        </Switch>
      </Router>
    );
  }
}

export default Routes;
```

</br>

**Route ì´ë™í•˜ëŠ” ë²•**
</br>
Linkíƒœê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ë²•ê³¼ withRouter HOCë¡œ êµ¬í˜„í•˜ëŠ” ë²•ì´ ìˆì—ˆëŠ”ë° ë‚˜ëŠ” ë‘ë²ˆì§¸ ë°©ë²•ì„ ì‚¬ìš©í–ˆë‹¤. ê·¸ ì´ìœ ëŠ” buttoníƒœê·¸ë¥¼ Linkíƒœê·¸ë¡œ ë°”ê¿¨ë”ë‹ˆ ìŠ¤íƒ€ì¼ì†ì„±ì´ ë°”ë€Œë©´ì„œ cssë¥¼ ë‹¤ì‹œ ìˆ˜ì •í•´ì¤˜ì•¼í–ˆê¸° ë•Œë¬¸ì´ë‹¤.

button íƒœê·¸ ì•ˆì— `onChange`ë¡œ ì´ë²¤íŠ¸í•¨ìˆ˜ë¥¼ ì„¤ì •í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©
`this.props.history.push(ê²½ë¡œ)`ë¡œ ì¸í•´ ë¼ìš°íŒ…ì´ ëœë‹¤.

```js
goToMain = (e) => {
  this.state.id === '_sunghae__' && this.state.pw === '1234'
    ? this.props.history.push('/Main')
    : alert('ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.');
};
```

- cssì—ì„œ htmlì— ìŠ¤íƒ€ì¼ê°’
  ì¸ìŠ¤íƒ€ê·¸ë¨ í´ë¡ ì„ í–ˆì„ë•ŒëŠ” ë¡œê·¸ì¸, ë©”ì¸ì„ ì—°ë™í•œë‹¤ëŠ” ìƒê°ì„ í•˜ì§€ ëª»í•´ì„œ ë¡œê·¸ì¸ì˜ htmlíƒœê·¸ì— ìŠ¤íƒ€ì¼ê°’ì„ ì§€ì •í–ˆë‹¤. ê·¸ë¦¬ê³  ì´ë²ˆì— ë‘ê°œì˜ íŒŒì¼ì„ í•©ì³¤ë”ë‹ˆ ë©”ì¸í˜ì´ì§€ì—ë„ htmlì˜ ìŠ¤íƒ€ì¼ê°’ì´ ì ìš©ë˜ì„œ ë‹¤ì‹œ ìˆ˜ì •í•´ì•¼ë§Œ í–ˆë‹¤. ê·¸ë˜ì„œ ê²°ë¡ ì€ htmlì—ëŠ” ëª¨ë“  í˜ì´ì§€ì— ê³µí†µì ìœ¼ë¡œ ë“¤ì–´ê°ˆ ìŠ¤íƒ€ì¼ê°’ë§Œ ì„¤ì •í•˜ê¸°!

---

**ğŸ’¡ì–´ë ¤ì› ë˜ ë¶€ë¶„**

**- ë©”ì¸í˜ì´ì§€ ëŒ“ê¸€ì¶”ê°€ ì´ë²¤íŠ¸**

1. buttonì— onClick í•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ inputìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ê°’ì´ ì—†ì—ˆë‹¤. ê·¸ ì´ìœ ëŠ” inputì´ë‘ buttonì´ ì–´ëŠ í•œìª½ì— í¬í•¨ëœ íƒœê·¸ê°€ ì•„ë‹ˆë¼ ê°ê° ê°œë³„ì ì¸ íƒœê·¸ì˜€ê¸° ë•Œë¬¸ì— ë²„íŠ¼ì—ì„œ ë“¤ì–´ì˜¤ëŠ” ê°’ì„ ì¸ì‹í•˜ì§€ ëª»í–ˆë‹¤. ê·¸ë˜ì„œ **buttonì—ëŠ” onClick, inputì—ëŠ” onChange ì´ë²¤íŠ¸**ë¥¼ ê°ê° ì£¼ì—ˆë‹¤.

2. ì €ì¥ëœ ëŒ“ê¸€ì„ í•˜ë‚˜ì˜ ë°°ì—´ë¡œ ë§Œë“¤ê¸°(concat)
   ë³´í†µ ë°°ì—´ ì–´ë– í•œ ê°’ì„ ì¶”ê°€í•  ë•Œ, pushë¥¼ ë§ì´ ì‚¬ìš©í–ˆëŠ”ë° ì´ë²ˆì—ëŠ” concatì„ ì‚¬ìš©í–ˆë‹¤. í•˜ì§€ë§Œ ë¦¬ì•¡íŠ¸ì—ëŠ” **ë¶ˆë³€ì„±ìœ ì§€**ë•Œë¬¸ì— state ë‚´ë¶€ì˜ ê°’ì„ ì§ì ‘ì ìœ¼ë¡œ ìˆ˜ì •í•˜ë©´ ì•ˆëœë‹¤. concatì€ pushì™€ ê°™ì´ ë°°ì—´ì— ì–´ë– í•œ ê°’ì„ ì¶”ê°€í•˜ì§€ë§Œ ê¸°ì¡´ ë°°ì—´ì„ ë³µì œí•œ ë’¤ ê°’ì„ ì¶”ê°€í•œë‹¤.

```js
this.state = {
  comment: '', //inputì°½
  comments: [], //ì…ë ¥ëœ ëŒ“ê¸€ì„ í¬í•¨í•˜ê³ ìˆëŠ” ë°°ì—´
};
```

inputì„ í†µí•´ ë“¤ì–´ì˜¨ ê°’ì„ commentì— ì €ì¥í•˜ê³  clickí–ˆì„ ë•Œ, concatì„ ì‚¬ìš©í•˜ì—¬ ê·¸ ê°’ì´ ë°°ì—´ì— ì¶”ê°€ë˜ë„ë¡ í–ˆë‹¤.

```js
addComment = (e) => {
  this.setState({
    comments: this.state.comments.concat(this.state.comment),
    comment: '',
  });
};
```

3. mapí•¨ìˆ˜ë¥¼ í†µí•´ ëŒ“ê¸€ ì¶”ê°€
   ì¶”ê°€ëœ ëŒ“ê¸€ë¡œ ì´ë£¨ì–´ì§„ commentsë¼ëŠ” ë°°ì—´ì— mapí•¨ìˆ˜ë¥¼ ì‚¬ìš©í–ˆë‹¤. í•¨ìˆ˜ì˜ ë¦¬í„´ê°’ìœ¼ë¡œëŠ” ë°°ì—´ í•˜ë‚˜í•˜ë‚˜ì— ê¸°ì¡´ ëŒ“ê¸€ì˜ êµ¬ì¡°ê°€ ì¶”ê°€ë  ìˆ˜ ìˆë„ë¡ í–ˆë‹¤. ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ë¶€ë¶„ì€ **ê¼­ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒ!!** í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ, ë°›ì€ ì¸ì(ì—¬ê¸°ì„œëŠ” comments ë°°ì—´)ì— mapì„ ëŒë ¤ì•¼í•˜ê¸° ë•Œë¬¸ì— ì§€ì •ì„ í•´ì¤˜ì•¼í•œë‹¤. ë˜í•œ, keyë„ ì„¤ì •ì„ í•´ì£¼ì–´ì•¼í•˜ëŠ”ë°, ê°’ ê°ê°ì´ ê°–ëŠ” ê³ ìœ í•œ ê°’ìœ¼ë¡œ ì„¤ì •ì„ í•˜ëŠ”ê²Œ ì¢‹ë‹¤ê³  í•œë‹¤. (indexë¡œ í•˜ëŠ” ë°©ë²•ì€ ì¶”ì²œí•˜ì§€ ì•ŠìŒ)

```js
cmtUpdate = (arr) => {
  return arr.map((cmt) => (
    <div className="comment-list" key={cmt}>
      <span className="comment-id">_sunghae__</span>
      <span className="comment-text">{cmt}</span>
      <img src={heart} />
    </div>
  ));
};
```
